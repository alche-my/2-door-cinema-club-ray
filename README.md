# VPN Cascade Setup Script

![Version](https://img.shields.io/badge/version-1.0-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Ubuntu](https://img.shields.io/badge/ubuntu-22.04+-orange.svg)

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–≤—É—Ö—É–∑–ª–æ–≤–æ–≥–æ –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ VPN —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º 3x-ui –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ VLESS Reality. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ –†–æ—Å—Å–∏–∏ (–¥–µ–∫–∞–±—Ä—å 2025).

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ](#-–æ–ø–∏—Å–∞–Ω–∏–µ)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](#-–ø–æ–¥—Ä–æ–±–Ω–∞—è-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 3x-ui](#-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-3x-ui)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)
- [FAQ](#-faq)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏](#-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–¥–µ—Ç–∞–ª–∏)

---

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

**VPN Cascade Setup Script** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–≤—É—Ö—É–∑–ª–æ–≤–æ–≥–æ VPN-–∫–∞—Å–∫–∞–¥–∞, –≥–¥–µ:

- **RU —Å–µ—Ä–≤–µ—Ä** (–º–æ—Å—Ç) ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
- **Non-RU —Å–µ—Ä–≤–µ—Ä** (–≤—ã—Ö–æ–¥) ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
- **–í–°–ï –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ Non-RU —Å–µ—Ä–≤–µ—Ä
- **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç** —Å RU —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

‚úÖ **–û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞** ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ
‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** ‚Äî —Å–∫—Ä–∏–ø—Ç –∑–∞–¥–∞—Å—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã
‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –†–æ—Å—Å–∏–∏ 2025** ‚Äî —É—á–∏—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤–µ–π—à–∏–µ –º–µ—Ç–æ–¥—ã –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
‚úÖ **–ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∫–∞–∂–¥—ã–π —à–∞–≥ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –ª–æ–≥
‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–æ–≤** ‚Äî —Å–æ–∑–¥–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

- ‚úì –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏—Å—Ç–µ–º—É (Ubuntu 22.04+, root –ø—Ä–∞–≤–∞, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
- ‚úì –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úì –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç 3x-ui –ø–∞–Ω–µ–ª—å
- ‚úì –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç UUID, –∫–ª—é—á–∏ Reality, Short IDs
- ‚úì –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç IP forwarding –∏ NAT
- ‚úì –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç firewall (UFW, iptables)
- ‚úì –°–æ–∑–¥–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–Ω–µ–ª–∏
- ‚úì –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- ‚úì –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é

- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å inbound/outbound –≤ –≤–µ–±-–ø–∞–Ω–µ–ª–∏ 3x-ui (—Å–∫—Ä–∏–ø—Ç –¥–∞–µ—Ç —Ç–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
- –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –ö–ª–∏–µ–Ω—Ç    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  RU Server   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Non-RU Server  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Internet ‚îÇ
‚îÇ  (–†–æ—Å—Å–∏—è)   ‚îÇ  VLESS  ‚îÇ   (Bridge)   ‚îÇ  VLESS  ‚îÇ  (Exit Node)   ‚îÇ         ‚îÇ          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò Reality ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò Tunnel  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                Port 443                 Port 8443

Flow:
1. –ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ RU —Å–µ—Ä–≤–µ—Ä—É (VLESS Reality, –ø–æ—Ä—Ç 443)
2. RU —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –Ω–∞ Non-RU —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8443)
3. Non-RU —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
4. –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å RU —Å–µ—Ä–≤–µ—Ä–∞ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù
```

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | RU Server | Non-RU Server |
|----------|-----------|---------------|
| **–†–æ–ª—å** | Bridge (–º–æ—Å—Ç) | Exit (–≤—ã—Ö–æ–¥) |
| **–ü–æ—Ä—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤** | 443 | - |
| **–ü–æ—Ä—Ç –¥–ª—è RU —Å–µ—Ä–≤–µ—Ä–∞** | - | 8443 (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π) |
| **–ü—Ä–æ—Ç–æ–∫–æ–ª** | VLESS Reality TCP | VLESS Reality TCP |
| **Flow** | none (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è 2025!) | none/xtls-rprx-vision |
| **–ü—Ä—è–º–æ–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç** | ‚ùå –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω | ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω |
| **NAT** | ‚ùå | ‚úÖ |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

#### –ù–∞ Non-RU —Å–µ—Ä–≤–µ—Ä–µ (—Å–Ω–∞—á–∞–ª–∞):

```bash
bash <(curl -Ls https://raw.githubusercontent.com/alche-my/2-door-cinema-club-ray/claude/setup-script-Elmix/cascade-setup.sh)
```

–í—ã–±–µ—Ä–∏—Ç–µ: `2) NON_RU_SERVER`

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–¥–∞—Å—Ç —Å–∫—Ä–∏–ø—Ç! –û–Ω–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–ª—è RU —Å–µ—Ä–≤–µ—Ä–∞.

---

#### –ù–∞ RU —Å–µ—Ä–≤–µ—Ä–µ (–∑–∞—Ç–µ–º):

```bash
bash <(curl -Ls https://raw.githubusercontent.com/alche-my/2-door-cinema-club-ray/claude/setup-script-Elmix/cascade-setup.sh)
```

–í—ã–±–µ—Ä–∏—Ç–µ: `1) RU_SERVER`

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç Non-RU —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ–≥–¥–∞ —Å–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç.

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°:** Ubuntu 22.04 –∏–ª–∏ –≤—ã—à–µ
- **Root –¥–æ—Å—Ç—É–ø:** –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç:** —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- **RAM:** –º–∏–Ω–∏–º—É–º 512 MB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1 GB)
- **–î–∏—Å–∫:** –º–∏–Ω–∏–º—É–º 1 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### –°–µ—Ä–≤–µ—Ä—ã

–í–∞–º –Ω—É–∂–Ω–æ **–¥–≤–∞ VPS —Å–µ—Ä–≤–µ—Ä–∞**:

1. **RU Server** ‚Äî —Å–µ—Ä–≤–µ—Ä –≤ –†–æ—Å—Å–∏–∏ (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Å—Ç—Ä–∞–Ω–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)
2. **Non-RU Server** ‚Äî —Å–µ—Ä–≤–µ—Ä –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –†–æ—Å—Å–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –ì–µ—Ä–º–∞–Ω–∏—è, –ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã, –°–®–ê)

### –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã

**RU Server:**
- 22 (SSH)
- 443 (–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
- 2053 (–ø–∞–Ω–µ–ª—å 3x-ui, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π)

**Non-RU Server:**
- 22 (SSH)
- 8443 (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç RU —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π)
- 2053 (–ø–∞–Ω–µ–ª—å 3x-ui, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π)

---

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Non-RU —Å–µ—Ä–≤–µ—Ä–∞

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:**

   ```bash
   ssh root@your-non-ru-server-ip
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:**

   ```bash
   bash <(curl -Ls https://raw.githubusercontent.com/alche-my/2-door-cinema-club-ray/claude/setup-script-Elmix/cascade-setup.sh)
   ```

3. **–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —Å–∫—Ä–∏–ø—Ç–∞:**

   - –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç —Å–∏—Å—Ç–µ–º—É
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç 3x-ui
   - –ü–æ–ø—Ä–æ—Å–∏—Ç –≤—ã–±—Ä–∞—Ç—å —Ä–æ–ª—å ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ `2) NON_RU_SERVER`

4. **–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:**

   ```
   Inbound port –¥–ª—è RU —Å–µ—Ä–≤–µ—Ä–∞: [Enter –¥–ª—è 8443 –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π]
   SNI: www.google.com
   Server Name: www.google.com
   Spider X: [Enter –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞]
   Flow: [Enter –¥–ª—è none –∏–ª–∏ xtls-rprx-vision]
   ```

5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—ã–¥–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

   –°–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

   ```
   ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
   ‚ïë         NON-RU SERVER CONFIGURATION SUMMARY                   ‚ïë
   ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
   ‚ïë  Server IP:        203.0.113.50
   ‚ïë  Inbound Port:     8443
   ‚ïë  UUID:             a1b2c3d4-e5f6-7890-abcd-ef1234567890
   ‚ïë  SNI:              www.google.com
   ‚ïë  Server Name:      www.google.com
   ‚ïë  Public Key:       xY7kL9mN4pQ2rT5vW8zA1bC3dE6fG9hJ0kL2mN5pQ8r
   ‚ïë  Short ID:         a1b2c3d4e5f67890
   ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
   ```

   **–°–û–•–†–ê–ù–ò–¢–ï –≠–¢–ò –î–ê–ù–ù–´–ï!** –û–Ω–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–ª—è RU —Å–µ—Ä–≤–µ—Ä–∞.

6. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ 3x-ui –ø–∞–Ω–µ–ª—å:**

   - –û—Ç–∫—Ä–æ–π—Ç–µ: `http://203.0.113.50:2053` (–≤–∞—à IP –∏ –ø–æ—Ä—Ç)
   - –í–æ–π–¥–∏—Ç–µ (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –∏–∑ –≤—ã–≤–æ–¥–∞ —Å–∫—Ä–∏–ø—Ç–∞)
   - –°–æ–∑–¥–∞–π—Ç–µ VLESS Reality inbound —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ outbound –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ "freedom" (–∏–Ω—Ç–µ—Ä–Ω–µ—Ç)

---

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ RU —Å–µ—Ä–≤–µ—Ä–∞

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:**

   ```bash
   ssh root@your-ru-server-ip
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:**

   ```bash
   bash <(curl -Ls https://raw.githubusercontent.com/alche-my/2-door-cinema-club-ray/claude/setup-script-Elmix/cascade-setup.sh)
   ```

3. **–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:**

   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å ‚Üí `1) RU_SERVER`

4. **–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Non-RU —Å–µ—Ä–≤–µ—Ä–∞:**

   –°–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç Non-RU —Å–µ—Ä–≤–µ—Ä–∞ (–∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏):

   ```
   Non-RU server IP: 203.0.113.50
   Non-RU server port: 8443
   UUID: a1b2c3d4-e5f6-7890-abcd-ef1234567890
   SNI: www.google.com
   Server Name: www.google.com
   Public Key: xY7kL9mN4pQ2rT5vW8zA1bC3dE6fG9hJ0kL2mN5pQ8r
   Short ID: a1b2c3d4e5f67890
   Flow: [Enter –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ]
   Spider X: [Enter –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ]
   ```

5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π inbound:**

   ```
   SNI –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤: apple.com [–∏–ª–∏ microsoft.com, cloudflare.com]
   Server Name: apple.com
   Spider X: [Enter]
   ```

   –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç UUID –∏ –∫–ª—é—á–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤.

6. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ 3x-ui –ø–∞–Ω–µ–ª—å:**

   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å (–∞–¥—Ä–µ—Å –∏–∑ –≤—ã–≤–æ–¥–∞ —Å–∫—Ä–∏–ø—Ç–∞)
   - –°–æ–∑–¥–∞–π—Ç–µ inbound –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (–ø–æ—Ä—Ç 443)
   - –°–æ–∑–¥–∞–π—Ç–µ outbound –∫ Non-RU —Å–µ—Ä–≤–µ—Ä—É
   - **–ö–†–ò–¢–ò–ß–ù–û:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ routing ‚Äî –í–°–ï traffic –æ—Ç inbound ‚Üí Non-RU outbound

---

### –®–∞–≥ 3: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–î–æ–±–∞–≤—å—Ç–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ RU —Å–µ—Ä–≤–µ—Ä–µ:**

   - –í –ø–∞–Ω–µ–ª–∏ 3x-ui –æ—Ç–∫—Ä–æ–π—Ç–µ inbound (–ø–æ—Ä—Ç 443)
   - –ù–∞–∂–º–∏—Ç–µ "Clients" ‚Üí "Add Client"
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
     - Email/Name: user1
     - UUID: [–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏]
     - Flow: none (–≤–∞–∂–Ω–æ!)
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –∏–ª–∏ QR-–∫–æ–¥

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**

   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫–ª–∏–µ–Ω—Ç–æ–º –∫ RU —Å–µ—Ä–≤–µ—Ä—É
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP: –æ—Ç–∫—Ä–æ–π—Ç–µ `https://ifconfig.me`
   - –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å IP Non-RU —Å–µ—Ä–≤–µ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º:
     - YouTube
     - Instagram
     - Facebook

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã):**

   ```bash
   # –ù–∞ RU –∏–ª–∏ Non-RU —Å–µ—Ä–≤–µ—Ä–µ
   tail -f /var/log/cascade-setup.log

   # –õ–æ–≥–∏ 3x-ui
   x-ui log
   ```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 3x-ui

### Non-RU Server ‚Äî Inbound Configuration

**–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å ‚Üí Inbounds ‚Üí Add Inbound**

```yaml
Remark: RU-Server-Connection
Protocol: VLESS
Port: 8443
Network: tcp
Security: reality

Reality Settings:
  Dest (SNI): www.google.com:443
  Server Names: www.google.com
  Private Key: [–∏–∑ —Ñ–∞–π–ª–∞ /root/non-ru-server-config.txt]
  Short IDs: a1b2c3d4e5f67890
  Min Client Ver: [–ø—É—Å—Ç–æ]
  Max Client Ver: [–ø—É—Å—Ç–æ]
  Max Time Diff: 0
  Spider X: [–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–ª–∏]

Clients:
  - Email: ru-server
    UUID: a1b2c3d4-e5f6-7890-abcd-ef1234567890
    Flow: [–ø—É—Å—Ç–æ –∏–ª–∏ xtls-rprx-vision]
```

**Outbound:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç outbound "freedom" –¥–ª—è –≤—ã—Ö–æ–¥–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.

---

### RU Server ‚Äî Inbound Configuration

**–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å ‚Üí Inbounds ‚Üí Add Inbound**

```yaml
Remark: Clients
Protocol: VLESS
Port: 443
Network: tcp
Security: reality

Reality Settings:
  Dest (SNI): apple.com:443
  Server Names: apple.com
  Private Key: [–∏–∑ —Ñ–∞–π–ª–∞ /root/ru-server-config.txt]
  Short IDs: [–∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞]
  Spider X: [–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–ª–∏]

Clients:
  - Email: user1
    UUID: [–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
    Flow: [–ü–£–°–¢–û! –æ—Å—Ç–∞–≤–∏—Ç—å None]
  - Email: user2
    UUID: [–¥—Ä—É–≥–æ–π UUID]
    Flow: [–ü–£–°–¢–û!]
```

---

### RU Server ‚Äî Outbound Configuration

**–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å ‚Üí Outbounds ‚Üí Add Outbound**

```yaml
Remark: Non-RU-Exit
Protocol: VLESS
Address: 203.0.113.50
Port: 8443
UUID: a1b2c3d4-e5f6-7890-abcd-ef1234567890

Security: reality
Reality Settings:
  SNI: www.google.com
  Server Name: www.google.com
  Public Key: xY7kL9mN4pQ2rT5vW8zA1bC3dE6fG9hJ0kL2mN5pQ8r
  Short ID: a1b2c3d4e5f67890
  Spider X: [–µ—Å–ª–∏ –±—ã–ª–æ]
  Fingerprint: chrome

Flow: [–µ—Å–ª–∏ –±—ã–ª–æ —É–∫–∞–∑–∞–Ω–æ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Non-RU]
```

---

### RU Server ‚Äî Routing Configuration (–ö–†–ò–¢–ò–ß–ù–û!)

**–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å ‚Üí Routing**

**–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ routing –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∫–ª–∏–µ–Ω—Ç—ã –±—É–¥—É—Ç –ø—ã—Ç–∞—Ç—å—Å—è –≤—ã—Ö–æ–¥–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å RU —Å–µ—Ä–≤–µ—Ä–∞, —á—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç.

**–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–æ:**

```yaml
Remark: All-to-NonRU
Domain Strategy: AsIs (–∏–ª–∏ IPIfNonMatch)
Outbound: Non-RU-Exit [–≤—ã–±–µ—Ä–∏—Ç–µ outbound, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤—ã—à–µ]

Rules: [–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è "–≤—Å–µ —Ç—Ä–∞—Ñ–∏–∫"]

Priority: 1 (–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
```

–≠—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞–ø—Ä–∞–≤–∏—Ç –í–°–ï –≤—Ö–æ–¥—è—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ Non-RU —Å–µ—Ä–≤–µ—Ä.

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö credentials:**
   - UUID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - Reality –∫–ª—é—á–∏ (–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∏ –ø—É–±–ª–∏—á–Ω—ã–µ)
   - Short IDs
   - –°–ª—É—á–∞–π–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –ø–∞–Ω–µ–ª–∏

2. **Firewall:**
   - UFW –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –†–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
   - iptables –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è NAT

3. **–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥–æ–≤:**
   - –•—Ä–∞–Ω—è—Ç—Å—è –≤ `/root/` (—Ç–æ–ª—å–∫–æ root –¥–æ—Å—Ç—É–ø)
   - –ü—Ä–∞–≤–∞ 600 (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –¥–ª—è root)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

‚úÖ **–°—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
- –°–º–µ–Ω–∏—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –ø–∞–Ω–µ–ª–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏ (–æ—Ç–∫–ª—é—á–∏—Ç–µ –ø–∞—Ä–æ–ª—å–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é)
- –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É: `apt update && apt upgrade`

‚úÖ **–†–µ–≥—É–ª—è—Ä–Ω–æ:**
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏: `/var/log/cascade-setup.log`
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ç—Ä–∞—Ñ–∏–∫ –≤ –ø–∞–Ω–µ–ª–∏ 3x-ui
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ 3x-ui: `x-ui update`

‚ö†Ô∏è **–ù–ï –¥–µ–ª–∞–π—Ç–µ:**
- –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ `/root/*-config.txt`
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–∞–±—ã–µ SNI (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–º–µ–Ω—ã –∏–∑ whitelist)
- –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –ø–∞–Ω–µ–ª—å 3x-ui –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±–µ–∑ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è

---

## üîç –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–û—à–∏–±–∫–∞:** `This script must be run as root`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo su
bash <(curl -Ls https://raw.githubusercontent.com/alche-my/2-door-cinema-club-ray/claude/setup-script-Elmix/cascade-setup.sh)
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: 3x-ui –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è

**–û—à–∏–±–∫–∞:** `Failed to install 3x-ui`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç: `ping -c 4 google.com`
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É: `apt update && apt upgrade`
3. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∑–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–ª–∏–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ RU —Å–µ—Ä–≤–µ—Ä—É

**–°–∏–º–ø—Ç–æ–º—ã:** Timeout, connection refused

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ 3x-ui –∑–∞–ø—É—â–µ–Ω:**
   ```bash
   systemctl status x-ui
   ```
   –ï—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω: `systemctl start x-ui`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 443 –æ—Ç–∫—Ä—ã—Ç:**
   ```bash
   netstat -tuln | grep 443
   ```
   –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: `0.0.0.0:443` –∏–ª–∏ `:::443`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall:**
   ```bash
   ufw status
   ```
   –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `443/tcp ALLOW`

   –ï—Å–ª–∏ –Ω–µ—Ç: `ufw allow 443/tcp`

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ø–∞–Ω–µ–ª–∏:**
   - Inbound —Å–æ–∑–¥–∞–Ω –∏ –≤–∫–ª—é—á–µ–Ω (–∑–µ–ª–µ–Ω—ã–π)
   - Client –¥–æ–±–∞–≤–ª–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º UUID
   - Flow = none (–Ω–µ xtls-rprx-vision!)

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

**–°–∏–º–ø—Ç–æ–º—ã:** –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –Ω–æ —Å–∞–π—Ç—ã –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω—ã:**

1. **Routing –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (RU —Å–µ—Ä–≤–µ—Ä):**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å 3x-ui
   - Routing ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ Non-RU outbound
   - –£–±–µ–¥–∏—Ç–µ—Å—å outbound –∞–∫—Ç–∏–≤–µ–Ω (–∑–µ–ª–µ–Ω—ã–π)

2. **Non-RU —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:**
   ```bash
   # –ù–∞ RU —Å–µ—Ä–≤–µ—Ä–µ
   telnet 203.0.113.50 8443
   ```
   –ï—Å–ª–∏ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ Non-RU —Å–µ—Ä–≤–µ—Ä

3. **Non-RU outbound –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ UUID, Public Key, SNI
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∏ –ø–æ—Ä—Ç Non-RU —Å–µ—Ä–≤–µ—Ä–∞

---

### –ü—Ä–æ–±–ª–µ–º–∞: Non-RU —Å–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –≤—ã–π—Ç–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

1. **IP forwarding –≤–∫–ª—é—á–µ–Ω:**
   ```bash
   cat /proc/sys/net/ipv4/ip_forward
   ```
   –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `1`

   –ï—Å–ª–∏ `0`: `sysctl -w net.ipv4.ip_forward=1`

2. **NAT –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
   ```bash
   iptables -t nat -L POSTROUTING -v
   ```
   –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª–æ MASQUERADE

3. **Outbound freedom —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
   - –í –ø–∞–Ω–µ–ª–∏ Outbounds ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "freedom"

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∞–π—Ç—ã –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:** YouTube/Instagram/Facebook –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

1. **–° Non-RU —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   curl -I https://www.youtube.com
   ```
   –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å HTTP 200

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∫–ª–∏–µ–Ω—Ç–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `https://ifconfig.me` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å IP Non-RU —Å–µ—Ä–≤–µ—Ä–∞

3. **DNS:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å –∫–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ DNS (8.8.8.8, 1.1.1.1)
   - –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ DNS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

1. **Flow –Ω–∞ –ø–æ—Ä—Ç—É 443 (RU —Å–µ—Ä–≤–µ—Ä):**
   - –£–±–µ–¥–∏—Ç–µ—Å—å Flow = none –≤ inbound –∫–ª–∏–µ–Ω—Ç–æ–≤
   - –° –Ω–æ—è–±—Ä—è 2025 flow –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –≤ –†–æ—Å—Å–∏–∏

2. **SNI –Ω–µ –∏–∑ whitelist:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: apple.com, microsoft.com, cloudflare.com
   - –ò–∑–±–µ–≥–∞–π—Ç–µ: —Ä–µ–¥–∫–∏–µ –¥–æ–º–µ–Ω—ã, –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–æ–º–µ–Ω—ã

3. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤:**
   ```bash
   free -h
   top
   ```
   - –ï—Å–ª–∏ RAM < 200 MB ‚Äî —É–≤–µ–ª–∏—á—å—Ç–µ —Å–µ—Ä–≤–µ—Ä

---

## ‚ùì FAQ

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª—å—à–µ –¥–≤—É—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤?

**–ù–µ—Ç.** –°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω —Å—Ç—Ä–æ–≥–æ –¥–ª—è –¥–≤—É—Ö —É–∑–ª–æ–≤: –æ–¥–∏–Ω –º–æ—Å—Ç, –æ–¥–∏–Ω –≤—ã—Ö–æ–¥. –≠—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏.

---

### –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ?

**–î–∞.** –°–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫. –û–Ω —Å–ø—Ä–æ—Å–∏—Ç, –Ω—É–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 3x-ui.

---

### –ù—É–∂–Ω–æ –ª–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–æ—Ä—Ç—ã –≤—Ä—É—á–Ω—É—é?

–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ö–æ—Å—Ç–∏–Ω–≥–∞:
- **–ï—Å–ª–∏ –µ—Å—Ç—å –≤–Ω–µ—à–Ω–∏–π firewall** (AWS Security Groups, Hetzner Cloud Firewall –∏ —Ç.–¥.) ‚Äî –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã —Ç–∞–º
- **–ù–∞ —Å–∞–º–æ–º —Å–µ—Ä–≤–µ—Ä–µ** ‚Äî —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç UFW –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

### –ö–∞–∫–∏–µ –ø–æ—Ä—Ç—ã –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ/firewall?

**RU Server:**
- 443 TCP (–≤—Ö–æ–¥—è—â–∏–π –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤)
- 2053 TCP (–≤—Ö–æ–¥—è—â–∏–π –¥–ª—è –ø–∞–Ω–µ–ª–∏, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Non-RU Server:**
- 8443 TCP (–≤—Ö–æ–¥—è—â–∏–π –æ—Ç RU —Å–µ—Ä–≤–µ—Ä–∞)
- 2053 TCP (–≤—Ö–æ–¥—è—â–∏–π –¥–ª—è –ø–∞–Ω–µ–ª–∏, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–û–±–∞ —Å–µ—Ä–≤–µ—Ä–∞:
- 22 TCP (SSH)

---

### –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç—ã?

**–î–∞.** –°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç –∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- –ö–ª–∏–µ–Ω—Ç—ã: 443
- RU ‚Üí Non-RU: 8443
- –ü–∞–Ω–µ–ª—å: 2053

---

### –°–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è?

–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞. –ü—Ä–∏–º–µ—Ä–Ω–æ:
- **512 MB RAM:** 10-20 –∫–ª–∏–µ–Ω—Ç–æ–≤
- **1 GB RAM:** 50-100 –∫–ª–∏–µ–Ω—Ç–æ–≤
- **2 GB RAM:** 200+ –∫–ª–∏–µ–Ω—Ç–æ–≤

---

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª –≤–º–µ—Å—Ç–æ VLESS Reality?

**–ù–µ—Ç.** –°–∫—Ä–∏–ø—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è VLESS Reality, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤—ã–π –∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º –ø—Ä–æ—Ç–æ–∫–æ–ª –≤ –†–æ—Å—Å–∏–∏ –Ω–∞ –¥–µ–∫–∞–±—Ä—å 2025.

---

### –ù—É–∂–Ω—ã –ª–∏ –¥–æ–º–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞?

**–ù–µ—Ç.** –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å IP –∞–¥—Ä–µ—Å–∞–º–∏. SNI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ –¥–æ–º–µ–Ω—ã (google.com, apple.com) –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏.

---

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CDN (Cloudflare)?

**–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** –¥–ª—è –¥–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. VLESS Reality —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ TCP –∏ –Ω–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ CDN. –ö —Ç–æ–º—É –∂–µ Cloudflare –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å VPN —Ç—Ä–∞—Ñ–∏–∫.

---

### –ö–∞–∫–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä VPS –≤—ã–±—Ä–∞—Ç—å?

**Non-RU —Å–µ—Ä–≤–µ—Ä:**
- ‚úÖ Hetzner (–ì–µ—Ä–º–∞–Ω–∏—è, –§–∏–Ω–ª—è–Ω–¥–∏—è)
- ‚úÖ DigitalOcean (–°–®–ê, –ï–≤—Ä–æ–ø–∞)
- ‚úÖ Vultr (–°–®–ê, –ï–≤—Ä–æ–ø–∞)
- ‚úÖ Linode (–°–®–ê, –ï–≤—Ä–æ–ø–∞)

**RU —Å–µ—Ä–≤–µ—Ä:**
- ‚úÖ –õ—é–±–æ–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä (Selectel, Timeweb –∏ —Ç.–¥.)

**–ò–∑–±–µ–≥–∞–π—Ç–µ:**
- ‚ùå –ö–∏—Ç–∞–π—Å–∫–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (–º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å VPN)
- ‚ùå –ü—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ —Å –ø–ª–æ—Ö–æ–π —Ä–µ–ø—É—Ç–∞—Ü–∏–µ–π

---

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞?

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å 3x-ui –Ω–∞ RU —Å–µ—Ä–≤–µ—Ä–µ
2. Inbounds ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ inbound (–ø–æ—Ä—Ç 443)
3. Clients ‚Üí Add Client
4. Email: user_name
5. UUID: [–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è]
6. Flow: **none** (–≤–∞–∂–Ω–æ!)
7. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
8. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ –∏–ª–∏ QR-–∫–æ–¥
9. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—É

---

### –ö–∞–∫ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ?

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å 3x-ui
systemctl stop x-ui
systemctl disable x-ui
rm -rf /usr/local/x-ui
rm -rf /etc/systemd/system/x-ui.service

# –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏
rm -f /root/*-config.txt
rm -f /root/3xui-credentials.txt
rm -f /root/cascade-setup-report.txt

# –û—á–∏—Å—Ç–∏—Ç—å firewall
ufw --force reset
iptables -F
iptables -t nat -F

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∑–∞–Ω–æ–≤–æ
bash <(curl -Ls https://raw.githubusercontent.com/alche-my/2-door-cinema-club-ray/claude/setup-script-Elmix/cascade-setup.sh)
```

---

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–∞–Ω–µ–ª—å 3x-ui –æ—Ç–∫—Ä—ã—Ç–æ–π?

**–° –º–µ—Ä–∞–º–∏ –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî –¥–∞:**
- ‚úÖ –°–º–µ–Ω–∏—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –ø–æ—Ä—Ç (–Ω–µ 2053)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ IP (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏

**–ò–ª–∏ –∑–∞–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å firewall:**
```bash
ufw delete allow 2053/tcp
```
–î–æ—Å—Ç—É–ø –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ SSH tunnel:
```bash
ssh -L 2053:localhost:2053 root@server-ip
# –ó–∞—Ç–µ–º –æ—Ç–∫—Ä—ã—Ç—å: http://localhost:2053
```

---

## üî¨ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ—á–µ–º—É –±–µ–∑ Flow –Ω–∞ –ø–æ—Ä—Ç—É 443?

**–ü—Ä–∏—á–∏–Ω–∞:** –° 1-12 –Ω–æ—è–±—Ä—è 2025 –≥–æ–¥–∞ –≤ –†–æ—Å—Å–∏–∏ –≤–≤–µ–¥–µ–Ω–∞ –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ TLS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π. VLESS —Å flow `xtls-rprx-vision` –Ω–∞ –ø–æ—Ä—Ç—É 443 —Å—Ç–∞–ª –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏–∑-–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ DPI —Å–∏—Å—Ç–µ–º–∞–º–∏.

**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞—Ç—å flow, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "—á–∏—Å—Ç—ã–π" VLESS Reality —Å –º–∞—Å–∫–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥ –æ–±—ã—á–Ω—ã–π HTTPS.

**–ò—Å—Ç–æ—á–Ω–∏–∫:** [GitHub Issue #546 - Russia TLS blocking](https://github.com/net4people/bbs/issues/546)

---

### –ü–æ—á–µ–º—É SNI –∏–∑ whitelist?

–¶–µ–Ω–∑–æ—Ä –∏–º–µ–µ—Ç **whitelist SNI** –≤ TLS handshake. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SNI –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –º–µ–Ω—å—à–µ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ/–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ.

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ SNI (–¥–µ–∫–∞–±—Ä—å 2025):**
- apple.com
- microsoft.com
- cloudflare.com
- cdn.discordapp.com

**–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:**
- –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–æ–º–µ–Ω—ã
- –†–µ–¥–∫–∏–µ/–º–∞–ª–æ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Å–∞–π—Ç—ã
- –î–æ–º–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç TLS 1.3

---

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Reality?

**VLESS Reality** ‚Äî —ç—Ç–æ —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è VLESS, –∫–æ—Ç–æ—Ä–∞—è:
1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–π TLS** –æ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–∞–π—Ç–∞ (dest/SNI)
2. **–ù–µ –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ TLS —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏—è** (–Ω–µ—Ç fingerprint –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏)
3. –î–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ **HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** –∫ –ª–µ–≥–∏—Ç–∏–º–Ω–æ–º—É —Å–∞–π—Ç—É
4. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **X25519 –∫–ª—é—á–∏** –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–Ω–µ–ª—å–∑—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å)

**–ü–æ—á–µ–º—É —ç—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–æ—Ç–∏–≤ DPI:**
- DPI –≤–∏–¥–∏—Ç "–æ–±—ã—á–Ω—ã–π" HTTPS –∫ apple.com
- –ù–µ—Ç –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö TLS –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ù–µ–ª—å–∑—è –æ—Ç–ª–∏—á–∏—Ç—å –æ—Ç –ª–µ–≥–∏—Ç–∏–º–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞

---

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞—Å–∫–∞–¥?

```
[–ö–ª–∏–µ–Ω—Ç] <--VLESS Reality--> [RU Server] <--VLESS Tunnel--> [Non-RU Server] <--> [Internet]
           –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ                      –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ          –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ
```

1. **–ö–ª–∏–µ–Ω—Ç ‚Üí RU Server:** VLESS Reality –º–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ HTTPS –∫ apple.com
2. **RU Server –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç:** –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞
3. **RU Server ‚Üí Non-RU Server:** –ü–µ—Ä–µ—Å—ã–ª–∞–µ—Ç —á–µ—Ä–µ–∑ –µ—â–µ –æ–¥–∏–Ω VLESS —Ç—É–Ω–Ω–µ–ª—å
4. **Non-RU Server:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π HTTP/HTTPS

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –î–≤–æ–π–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ RU —Å–µ—Ä–≤–µ—Ä –Ω–µ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–Ω–µ–ª—å–∑—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ç—Ä–∞—Ñ–∏–∫—É)
- ‚úÖ –ï—Å–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä—É—é—Ç RU —Å–µ—Ä–≤–µ—Ä ‚Äî –º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –µ–≥–æ, –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥
- ‚úÖ Non-RU —Å–µ—Ä–≤–µ—Ä —Å–∫—Ä—ã—Ç –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ (–æ–Ω–∏ –Ω–µ –∑–Ω–∞—é—Ç –µ–≥–æ IP)

---

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∫—Ä–∏–ø—Ç–∞

–°–∫—Ä–∏–ø—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–µ–∫—Ü–∏–π:

```
‚îú‚îÄ‚îÄ Logging & Output (—Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îú‚îÄ‚îÄ User Interaction (CLI dialogs, confirmations)
‚îú‚îÄ‚îÄ Environment Validation (OS check, dependencies, internet)
‚îú‚îÄ‚îÄ Role Selection (RU_SERVER vs NON_RU_SERVER)
‚îú‚îÄ‚îÄ 3x-ui Installation (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π install script)
‚îú‚îÄ‚îÄ Configuration
‚îÇ   ‚îú‚îÄ‚îÄ Non-RU Server (exit node setup)
‚îÇ   ‚îî‚îÄ‚îÄ RU Server (bridge + cascade setup)
‚îú‚îÄ‚îÄ Firewall & Routing (UFW, iptables, NAT)
‚îú‚îÄ‚îÄ Validation (connectivity, service status, ports)
‚îî‚îÄ‚îÄ Reporting (final report, configs, manual steps)
```

–í—Å–µ–≥–æ **1278 —Å—Ç—Ä–æ–∫** –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ bash –∫–æ–¥–∞.

---

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç:

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∞–≤–∞ |
|------|----------|-------|
| `/root/3xui-credentials.txt` | –õ–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –ø–∞–Ω–µ–ª–∏ | 600 |
| `/root/non-ru-server-config.txt` | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Non-RU —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ NON_RU_SERVER) | 600 |
| `/root/ru-server-config.txt` | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã RU —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ RU_SERVER) | 600 |
| `/root/cascade-setup-report.txt` | –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç | 600 |
| `/var/log/cascade-setup.log` | –ü–æ–ª–Ω—ã–π –ª–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | 644 |

---

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:

- curl
- wget
- jq (JSON processor)
- iptables & iptables-persistent
- net-tools
- dnsutils
- bc (calculator)
- openssl
- ufw (firewall)
- socat

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ —Å—Å—ã–ª–∫–∏

### 3x-ui Panel
- [GitHub: MHSanaei/3x-ui](https://github.com/MHSanaei/3x-ui) ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- [3x-ui Wiki](https://github.com/MHSanaei/3x-ui/wiki) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### VLESS Reality
- [Xray-core Reality Discussion](https://github.com/XTLS/Xray-core/discussions/3518) ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- [VLESS Reality Setup with 3X-UI](https://semenov.work/posts/3x-ui-vless-reality-vpn/) ‚Äî –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≥–∞–π–¥

### –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ –†–æ—Å—Å–∏–∏ (2025)
- [Russia TLS Connection Blocking - November 2025](https://github.com/net4people/bbs/issues/546) ‚Äî –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- [VPN Not Working in Russia 2025](https://www.vpnranks.com/blog/vpn-not-working-in-russia/) ‚Äî –æ–±–∑–æ—Ä —Å–∏—Ç—É–∞—Ü–∏–∏
- [Internet Censorship in Russia](https://russiapost.info/society/internet_censorship) ‚Äî cat and mouse game

### –û–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- [How to Safely Use VPN in Russia](https://www.safetydetectives.com/blog/how-to-safely-use-a-vpn-in-russia-and-china/) ‚Äî best practices
- [Why VPN Stopped Working in Russia](https://tegant.com/articles/vpn-not-working-china-russia-qatar-saudi-arabia-2025/) ‚Äî –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ [FAQ](#-faq)** ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, –æ—Ç–≤–µ—Ç —É–∂–µ –µ—Å—Ç—å
2. **–ò–∑—É—á–∏—Ç–µ [Troubleshooting](#-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   cat /var/log/cascade-setup.log
   x-ui log
   ```
4. **–°–æ–∑–¥–∞–π—Ç–µ Issue** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

## ‚ö†Ô∏è Disclaimer

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:
- ‚úÖ –õ–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –û–±—Ö–æ–¥–∞ –ª–µ–≥–∏—Ç–∏–º–Ω—ã—Ö –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- ‚úÖ –ó–∞—â–∏—Ç—ã –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
- ‚úÖ –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π

**–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:**
- ‚ùå –ù–µ–∑–∞–∫–æ–Ω–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏—è –∑–∞–∫–æ–Ω–æ–≤ –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω—ã
- ‚ùå –ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∏—Å–∫–æ–≤

–ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞.

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º, –∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ **–Ω–∞–¥–µ–∂–Ω—ã–π, —É—Å—Ç–æ–π—á–∏–≤—ã–π –∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º VPN-–∫–∞—Å–∫–∞–¥** –∑–∞ 15-30 –º–∏–Ω—É—Ç!

**–£—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!** üöÄ

---

<div align="center">

**[‚¨Ü –ù–∞–≤–µ—Ä—Ö](#vpn-cascade-setup-script)**

Made with ‚ù§Ô∏è for free internet

</div>
